<div class="card">
  <div class="card-header">
    <h2><%= @chapter.new_record? ? "Create a New Chapter" : "Edit Chapter" %></h2>
  </div>

  <div class="card-body">
    <%= form_with(model: [@book, @chapter], html: { class: "form" }) do |form| %>
      <div class="form-group">
        <%= form.label :title, class: "form-label" %>
        <%= form.text_field :title, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :status, class: "form-label" %>
        <%= form.select :status, ['Draft', 'In Review', 'Published'], {}, class: "form-control" %>
      </div>

      <div class="form-group" data-controller="easymde">
        <%= form.label :content, class: "form-label" %>
        <%= form.text_area :content, 
            id: "editor",
            class: "form-control",
            data: { "easymde-target": "editor" } %>
      </div>

      <div class="form-actions">
        <%= render 'shared/button', text: (@chapter.new_record? ? "Create Chapter" : "Update Chapter") %>
        <%= render 'shared/button', text: 'Cancel', path: book_path(@book), variant: 'secondary' %>
      </div>
    <% end %>
  </div>
</div>


